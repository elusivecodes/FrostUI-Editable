{"version":3,"names":["Editable","BaseComponent","constructor","node","settings","super","this","_value","_options","value","$","getText","_node","_enabled","_getLabel","_","getLabel","_input","_selectmenu","data","text","type","_isArray","option","findOne","labels","val","thisLabel","push","length","join","separator","_buildForm","_buildLoader","_events","_refresh","disable","detach","_form","show","dispose","removeClass","classes","empty","editable","removeAttribute","setStyle","borderBottomStyle","removeEvent","_datetimepicker","_colorpicker","_autocomplete","remove","_inputGroup","_submit","_cancel","_error","_loader","enable","hide","triggerOne","setHTML","formError","triggerEvent","before","focus","toggle","isConnected","defaults","emptyText","inputAttributes","inputClass","inputStyle","borderStyle","lang","title","save","cancel","buttons","getValue","initInput","saveValue","setValue","validate","selectmenu","datetimepicker","colorpicker","autocomplete","buttonContainer","cancelButton","error","inputContainer","inputFilled","inputGroupFilled","inputGroupOutline","inputOutline","inputRipple","saveButton","spinner","proto","prototype","create","class","append","_renderInput","html","attributes","SelectMenu","init","DateTimePicker","ColorPicker","Autocomplete","addEvent","e","preventDefault","_updateValue","code","Promise","resolve","then","Error","catch","message","addClass","finally","useCurrentLabel","setAttribute","role","important","label","setText","inputTag","item","ripple","setDate","setColor","initComponent"],"sources":["../src/editable.js","../src/index.js","../src/prototype/render.js","../src/prototype/events.js","../src/prototype/helpers.js"],"sourcesContent":["import $ from '@fr0st/query';\nimport { BaseComponent } from '@fr0st/ui';\n\n/**\n * Editable Class\n * @class\n */\nexport default class Editable extends BaseComponent {\n    /**\n     * New Editable constructor.\n     * @param {HTMLElement} node The input node.\n     * @param {object} [settings] The options to create the Editable with.\n     * @returns {Editable} A new Editable object.\n     */\n    constructor(node, settings) {\n        super(node, settings);\n\n        this._value = this._options.value === null ?\n            $.getText(this._node) :\n            this._options.value;\n\n        this._enabled = true;\n\n        this._getLabel = (_) => {\n            if (this._options.getLabel) {\n                return this._options.getLabel(this._value, this._input, this);\n            }\n\n            if (this._selectmenu) {\n                const data = this._selectmenu.data();\n                return data ? data.text : null;\n            }\n\n            if (this._options.type !== 'select') {\n                return this._value;\n            }\n\n            if (!$._isArray(this._value)) {\n                const option = $.findOne(`option[value=\"${this._value}\"]`, this._input);\n                return option ? $.getText(option) : null;\n            }\n\n            const labels = [];\n            for (const val of this._value) {\n                const option = $.findOne(`option[value=\"${val}\"]`, this._input);\n                const thisLabel = $.getText(option);\n                labels.push(thisLabel);\n            }\n\n            return labels.length ? labels.join(this._options.separator) : null;\n        };\n\n        this._buildForm();\n        this._buildLoader();\n        this._events();\n        this._refresh(true);\n    }\n\n    /**\n     * Disable the Editable.\n     * @returns {Editable} The Editable.\n     */\n    disable() {\n        this._enabled = false;\n        this._refresh();\n\n        $.detach(this._form);\n        $.show(this._node);\n\n        return this;\n    }\n\n    /**\n     * Dispose the Editable.\n     */\n    dispose() {\n        $.removeClass(this._node, this.constructor.classes.empty);\n        $.removeClass(this._node, this.constructor.classes.editable);\n        $.removeAttribute(this._node, 'role');\n        $.removeAttribute(this._node, 'title');\n        $.setStyle(this._node, { borderBottomStyle: '' });\n        $.removeEvent(this._node, 'click.ui.editable');\n\n        if (this._selectmenu) {\n            this._selectmenu.dispose();\n            this._selectmenu = null;\n        } else if (this._datetimepicker) {\n            this._datetimepicker.dispose();\n            this._datetimepicker = null;\n        } else if (this._colorpicker) {\n            this._colorpicker.dispose();\n            this._colorpicker = null;\n        } else if (this._autocomplete) {\n            this._autocomplete.dispose();\n            this._autocomplete = null;\n        }\n\n        $.remove(this._form);\n        $.show(this._node);\n\n        this._form = null;\n        this._input = null;\n        this._inputGroup = null;\n        this._submit = null;\n        this._cancel = null;\n        this._error = null;\n        this._loader = null;\n        this._getLabel = null;\n\n        super.dispose();\n    }\n\n    /**\n     * Enable the Editable.\n     * @returns {Editable} The Editable.\n     */\n    enable() {\n        this._enabled = true;\n        this._refresh();\n\n        return this;\n    }\n\n    /**\n     * Hide the Editable form.\n     * @returns {Editable} The Editable.\n     */\n    hide() {\n        if (!$.triggerOne(this._node, 'hide.ui.editable')) {\n            return this;\n        }\n\n        if (this._selectmenu) {\n            this._selectmenu.hide();\n        } else if (this._datetimepicker) {\n            this._datetimepicker.hide();\n        } else if (this._colorpicker) {\n            this._colorpicker.hide();\n        } else if (this._autocomplete) {\n            this._autocomplete.hide();\n        }\n\n        $.detach(this._form);\n        $.show(this._node);\n\n        $.setHTML(this._error, '');\n        $.hide(this._error);\n        $.removeClass(this._form, this.constructor.classes.formError);\n\n        $.triggerEvent(this._node, 'hidden.ui.editable');\n\n        return this;\n    }\n\n    /**\n     * Show the Editable form.\n     * @returns {Editable} The Editable.\n     */\n    show() {\n        if (!$.triggerOne(this._node, 'show.ui.editable')) {\n            return this;\n        }\n\n        $.before(this._node, this._form);\n        $.hide(this._node);\n        $.focus(this._input);\n\n        $.triggerEvent(this._node, 'shown.ui.editable');\n\n        return this;\n    }\n\n    /**\n     * Toggle the Editable form.\n     * @returns {Editable} The Editable.\n     */\n    toggle() {\n        return $.isConnected(this._form) ?\n            this.hide() :\n            this.show();\n    }\n}\n","import { initComponent } from '@fr0st/ui';\nimport Editable from './editable.js';\nimport { _events } from './prototype/events.js';\nimport { _refresh, _updateValue } from './prototype/helpers.js';\nimport { _buildForm, _buildLoader, _renderInput } from './prototype/render.js';\n\n// Editable default options\nEditable.defaults = {\n    type: 'text',\n    value: null,\n    emptyText: 'Empty',\n    separator: ', ',\n    inputAttributes: {},\n    inputClass: null,\n    inputStyle: 'filled',\n    borderStyle: 'dotted',\n    lang: {\n        title: 'Click to edit',\n        save: 'Save',\n        cancel: 'Cancel',\n    },\n    buttons: true,\n    getLabel: null,\n    getValue: null,\n    initInput: null,\n    saveValue: (value) => value,\n    setValue: null,\n    validate: (_) => '',\n    selectmenu: null,\n    datetimepicker: null,\n    colorpicker: null,\n    autocomplete: null,\n};\n\n// Default classes\nEditable.classes = {\n    buttonContainer: 'd-flex gap-1 mt-1',\n    cancelButton: 'btn btn-light ripple',\n    editable: 'link-primary border-bottom border-primary',\n    empty: 'link-danger fst-italic border-bottom border-danger',\n    error: 'invalid-feedback',\n    formError: 'form-error',\n    inputContainer: 'form-input',\n    inputFilled: 'input-filled',\n    inputGroupFilled: 'input-group input-group-filled',\n    inputGroupOutline: 'input-group',\n    inputOutline: 'input-outline',\n    inputRipple: 'ripple-line',\n    saveButton: 'btn btn-primary ripple',\n    spinner: 'spinner-border spinner-border-sm text-primary',\n};\n\n// Editable prototype\nconst proto = Editable.prototype;\n\nproto._buildForm = _buildForm;\nproto._buildLoader = _buildLoader;\nproto._events = _events;\nproto._refresh = _refresh;\nproto._renderInput = _renderInput;\nproto._updateValue = _updateValue;\n\n// Editable init\ninitComponent('editable', Editable);\n\nexport default Editable;\n","import $ from '@fr0st/query';\nimport Autocomplete from '@fr0st/ui-autocomplete';\nimport ColorPicker from '@fr0st/ui-colorpicker';\nimport DateTimePicker from '@fr0st/ui-datetimepicker';\nimport SelectMenu from '@fr0st/ui-selectmenu';\n\n/**\n * Build the editable form.\n */\nexport function _buildForm() {\n    this._form = $.create('form');\n\n    this._inputGroup = $.create('div', {\n        class: this._options.inputStyle === 'filled' ?\n            this.constructor.classes.inputGroupFilled :\n            this.constructor.classes.inputGroupOutline,\n    });\n    $.append(this._form, this._inputGroup);\n\n    this._renderInput();\n\n    if (this._options.buttons) {\n        this._submit = $.create('button', {\n            html: this._options.lang.save,\n            class: this.constructor.classes.saveButton,\n            attributes: {\n                type: 'submit',\n            },\n        });\n\n        this._cancel = $.create('button', {\n            html: this._options.lang.cancel,\n            class: this.constructor.classes.cancelButton,\n            attributes: {\n                type: 'button',\n            },\n        });\n\n        if (this._options.buttons === 'bottom') {\n            const buttonContainer = $.create('div', {\n                class: this.constructor.classes.buttonContainer,\n            });\n            $.append(this._form, buttonContainer);\n\n            $.append(buttonContainer, this._submit);\n            $.append(buttonContainer, this._cancel);\n        } else {\n            $.append(this._inputGroup, this._submit);\n            $.append(this._inputGroup, this._cancel);\n        }\n    }\n\n    this._error = $.create('div', {\n        class: this.constructor.classes.error,\n    });\n    $.append(this._form, this._error);\n    $.hide(this._error);\n\n    if (this._options.initInput) {\n        this._options.initInput(this._input, this);\n    } else if (this._options.selectmenu) {\n        this._selectmenu = SelectMenu.init(this._input, this._options.selectmenu);\n    } else if (this._options.datetimepicker) {\n        this._datetimepicker = DateTimePicker.init(this._input, this._options.datetimepicker);\n    } else if (this._options.colorpicker) {\n        this._colorpicker = ColorPicker.init(this._input, this._options._colorpicker);\n    } else if (this._options.autocomplete) {\n        this._autocomplete = Autocomplete.init(this._input, this._options.autocomplete);\n    }\n};\n\n/**\n * Build the loader.\n */\nexport function _buildLoader() {\n    this._loader = $.create('span', {\n        class: this.constructor.classes.spinner,\n    });\n};\n\n/**\n * Render the input element.\n */\nexport function _renderInput() {\n    const inputContainer = $.create('div', {\n        class: this.constructor.classes.inputContainer,\n    });\n    $.append(this._inputGroup, inputContainer);\n\n    const attributes = {};\n\n    let inputTag;\n    switch (this._options.type) {\n        case 'select':\n        case 'textarea':\n            inputTag = this._options.type;\n            break;\n        default:\n            inputTag = 'input';\n            attributes.type = this._options.type;\n            break;\n    }\n\n    this._input = $.create(inputTag, {\n        class: this._options.inputStyle === 'filled' ?\n            this.constructor.classes.inputFilled :\n            this.constructor.classes.inputOutline,\n        attributes: {\n            ...attributes,\n            ...this._options.inputAttributes,\n        },\n    });\n\n    if (this._options.inputClass) {\n        $.addClass(this._input, this._options.inputClass);\n    }\n\n    $.append(inputContainer, this._input);\n\n    if (this._options.type === 'select' && this._options.data) {\n        for (const item of this._options.data) {\n            const option = $.create('option', {\n                text: item.text,\n                attributes: {\n                    value: item.value,\n                },\n            });\n            $.append(this._input, option);\n        }\n    }\n\n    if (this._options.inputStyle === 'filled') {\n        const ripple = $.create('div', {\n            class: this.constructor.classes.inputRipple,\n        });\n        $.append(inputContainer, ripple);\n    }\n};\n","import $ from '@fr0st/query';\n\n/**\n * Attach events for the Editable.\n */\nexport function _events() {\n    $.addEvent(this._node, 'click.ui.editable', (e) => {\n        if (!this._enabled) {\n            return;\n        }\n\n        e.preventDefault();\n\n        this._updateValue();\n        this.show();\n    });\n\n    $.addEvent(this._input, 'keydown.ui.editable', (e) => {\n        if (e.code !== 'Escape') {\n            return;\n        }\n\n        e.preventDefault();\n\n        $.setValue(this._input, this._value);\n        this.hide();\n    });\n\n    if (this._options.buttons) {\n        $.addEvent(this._cancel, 'click.ui.editable', (e) => {\n            e.preventDefault();\n\n            this.hide();\n        });\n    } else {\n        $.addEvent(this._input, 'change.ui.editable', (_) => {\n            $.triggerEvent(this._form, 'submit.ui.editable');\n        });\n    }\n\n    $.addEvent(this._form, 'submit.ui.editable', (e) => {\n        e.preventDefault();\n\n        const value = this._options.getValue ?\n            this._options.getValue(this._input, this) :\n            $.getValue(this._input);\n\n        const validate = this._options.validate(value, this._input, this);\n\n        Promise.resolve(validate).then((error) => {\n            if (error || value === this._value) {\n                throw new Error(error);\n            }\n\n            $.before(this._node, this._loader);\n            $.hide(this._form);\n\n            return this._options.saveValue(value, this._input, this);\n        }).then((_) => {\n            this._value = value;\n            this._refresh();\n\n            $.triggerEvent(this._node, 'saved.ui.editable');\n\n            this.hide();\n        }).catch((error) => {\n            if (!error.message) {\n                return this.hide();\n            }\n\n            $.setHTML(this._error, error);\n            $.show(this._error);\n            $.addClass(this._form, this.constructor.classes.formError);\n        }).finally((_) => {\n            $.detach(this._loader);\n            $.show(this._form);\n        });\n    });\n}\n","import $ from '@fr0st/query';\n\n/**\n * Refresh the current value.\n */\nexport function _refresh(useCurrentLabel = false) {\n    $.removeClass(this._node, this.constructor.classes.empty);\n    $.removeClass(this._node, this.constructor.classes.editable);\n\n    if (!this._enabled) {\n        $.removeAttribute(this._node, 'role');\n        $.removeAttribute(this._node, 'title');\n        $.setStyle(this._node, { borderBottomStyle: '' });\n\n        return;\n    }\n\n    $.setAttribute(this._node, {\n        role: 'button',\n        title: this._options.lang.title,\n    });\n\n    if (this._options.borderStyle) {\n        $.setStyle(this._node, { borderBottomStyle: this._options.borderStyle }, null, { important: true });\n    }\n\n    Promise.resolve(this._getLabel()).then((label) => {\n        if (!this._enabled) {\n            return;\n        }\n\n        if (!label && useCurrentLabel) {\n            label = $.getText(this._node);\n        }\n\n        if (!label) {\n            $.setText(this._node, this._options.emptyText);\n            $.addClass(this._node, this.constructor.classes.empty);\n            return;\n        }\n\n        $.setText(this._node, label);\n        $.addClass(this._node, this.constructor.classes.editable);\n    });\n};\n\n/**\n * Update the current value.\n */\nexport function _updateValue() {\n    if (this._options.setValue) {\n        this._options.setValue(this._input, this._value, this);\n    } else if (this._selectmenu) {\n        this._selectmenu.setValue(this._value);\n    } else if (this._datetimepicker) {\n        this._datetimepicker.setDate(this._value);\n    } else if (this._colorpicker) {\n        this._colorpicker.setColor(this._value);\n    } else {\n        $.setValue(this._input, this._value);\n    }\n};\n"],"mappings":"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","ignoreList":[]}